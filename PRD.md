# 视频脚本字数统计与时间预估工具 PRD

## 1. 产品概述

### 1.1 产品名称
视频脚本字数统计与时间预估工具 (Video Script Counter)

### 1.2 目标用户
教研老师，负责编写和审核儿童教学视频脚本

### 1.3 产品定位
一个自动化工具，用于统计视频脚本各部分的字数，并基于正常汉语语速预估每个部分的口播时间，在脚本中自动标注时间轴信息。

## 2. 用户场景与痛点

### 2.1 用户场景
- 教研老师每天需要处理大量视频脚本
- 需要为视频制作团队提供每个部分的时长参考
- 需要控制每个部分的内容长度，确保视频节奏合理

### 2.2 核心痛点
- 手动统计字数耗时耗力
- 需要排除后期制作提示文字（括号内容）
- 需要手动计算每个部分的时长
- 需要手动标注时间轴，容易出错

## 3. 功能需求

### 3.1 脚本结构识别

**输入文档结构要求：**
脚本分为固定的四个部分：
1. 第一部分：引入
2. 第二部分：知识点讲解
   - 包含子章节：知识点1、知识点2、知识点3...
3. 第三部分：综合练习
4. 第四部分：总结

### 3.2 字数统计功能

**统计规则：**
- 统计每个主要部分（第一部分、第二部分、第三部分、第四部分）的字数
- **排除规则**：不统计括号内的内容（包括中文括号「」、（）和英文括号[]、()）
  - 括号内的内容是给后期制作人员的视频效果提示
  - 不属于口播内容，不计入字数

**统计粒度：**
- 仅统计四个主要部分的字数
- 不需要单独统计知识点1、知识点2等子章节的字数

### 3.3 时间预估功能

**预估规则：**
- 基于儿童教学视频语速进行预估
  - 参考标准：儿童讲解语速约为 **200-240字/分钟**
  - 建议采用：**220字/分钟** 作为默认计算标准（可配置）
  - 比正常语速慢，便于儿童理解和吸收

**时间格式：**
- 采用时间轴格式：`XX:XX-XX:XX`（分:秒-分:秒）
- 表示该部分在整个视频中的起止时间
- 示例：
  - 第一部分：00:00-01:30
  - 第二部分：01:30-05:45
  - 第三部分：05:45-08:20
  - 第四部分：08:20-10:00

**计算逻辑：**
1. 根据字数和语速计算每个部分的时长（秒）
2. 从00:00开始，累加计算每个部分的起止时间
3. 时间精确到秒

### 3.4 输出文档生成

**输出要求：**
1. 保持原文档内容完全不变
2. 仅在每个主要部分的标题后添加标注信息
3. 标注格式：`（约XXX字，XX:XX-XX:XX）`

**示例：**
```
第一部分：引入（约150字，00:00-00:32）
[原有内容不变...]

第二部分：知识点讲解（约800字，00:32-03:23）
知识点1
[原有内容不变...]
知识点2
[原有内容不变...]

第三部分：综合练习（约600字，03:23-05:31）
[原有内容不变...]

第四部分：总结（约200字，05:31-06:14）
[原有内容不变...]
```

## 4. 技术需求

### 4.1 输入支持
- 支持文档格式：**.docx**（Word文档）
- 支持中文字符识别
- 支持所有常见括号格式：()、（）、[]、【】、「」、『』、{}、｛｝

### 4.2 处理逻辑
1. 解析文档结构，识别四个主要部分
2. 对每个部分的文本进行处理：
   - 去除括号及括号内的内容
   - 统计剩余字符数（**包含中文、英文、数字、标点符号等所有字符**）
3. 基于字数计算时长（时长秒数**四舍五入**到整数）
4. 计算累积时间轴
5. 在原文档相应位置插入标注信息

### 4.3 配置项
- 语速设置（默认220字/分钟，可调整）
- 字数统计规则（包含所有字符：中文、英文、数字、标点符号）
- 时间计算规则（四舍五入到整秒）

## 5. 非功能性需求

### 5.1 易用性
- 命令行工具或简单的图形界面
- 一键处理，无需复杂配置

### 5.2 准确性
- 括号识别准确率 100%
- 时间计算误差 < 1秒

### 5.3 性能
- 处理单个文档时间 < 1秒

## 6. 未来扩展性（V2.0考虑）

### 6.1 可能的扩展功能
- 支持统计知识点子章节的字数和时间
- 支持自定义部分名称和数量
- 支持批量处理多个文档
- 生成可视化的时间分布图表
- 支持导出为Excel格式的统计报表
- 支持多种语速预设（快速、正常、慢速）
- 支持视频时长上限提醒

## 7. 验收标准

### 7.1 功能验收
- [ ] 能正确识别四个主要部分
- [ ] 能正确排除各种括号内的内容
- [ ] 字数统计准确
- [ ] 时间轴计算准确，格式正确
- [ ] 输出文档格式正确，仅在标题后添加标注
- [ ] 原文档内容保持完整不变

### 7.2 测试用例
需提供包含以下情况的测试脚本：
- 包含中文括号（）和英文括号()的内容
- 包含多层嵌套括号的情况
- 知识点数量不固定（1-10个）
- 不同长度的脚本（100字 - 5000字）

## 8. 附录

### 8.1 汉语语速参考数据
- 儿童教学：200-240 字/分钟
- 慢速：200-230 字/分钟
- 正常：250-300 字/分钟
- 快速：300-350 字/分钟
- 新闻播报：280-320 字/分钟
- **本工具默认值：220 字/分钟**（儿童教学视频）

### 8.2 时间格式说明
- 格式：MM:SS（分:秒）
- 当超过60分钟时：HH:MM:SS（时:分:秒）
- **秒数四舍五入到整数**
